# Инструкция по запуску всех компонентов

## Для работы авторизации через бота нужно запустить 3 компонента:

### 1. Flask бэкенд (API сервер)

Откройте первый терминал:

```powershell
cd Backend
python server.py
```

Или используйте батник:
```powershell
Backend\start_server.bat
```

**Проверка:** Должны увидеть:
```
INFO:__main__:Загружен файл переменных окружения: ...
INFO:__main__:BOT_TOKEN успешно загружен
 * Running on http://127.0.0.1:5000
```

### 2. Telegram бот

Откройте второй терминал:

```powershell
cd TelegramBot
python main.py
```

Или используйте батник:
```powershell
TelegramBot\start_bot.bat
```

**Проверка:** Должны увидеть:
```
INFO:__main__:Загружен файл переменных окружения: ...
INFO:__main__:Запуск бота...
INFO:__main__:Токен бота: 8291751381...TAhE
INFO:__main__:Бот готов к работе. Ожидание сообщений...
```

### 3. Next.js фронтенд

Откройте третий терминал:

```powershell
npm run dev
```

**Проверка:** Должны увидеть:
```
  ▲ Next.js 14.2.5
  - Local:        http://localhost:3000
```

## Проверка работы

1. Откройте сайт: http://localhost:3000
2. Нажмите кнопку авторизации
3. Нажмите "Открыть бота для авторизации"
4. В боте нажмите "Авторизоваться на сайте"
5. Вернитесь на сайт - вы должны быть авторизованы!

## Устранение проблем

### Бот не отвечает

1. Проверьте, что бот запущен (второй терминал)
2. Проверьте логи бота на наличие ошибок
3. Убедитесь, что токен правильный в `Backend/BOT_TOKEN.env`

### Бэкенд не отвечает

1. Проверьте, что бэкенд запущен (первый терминал)
2. Убедитесь, что порт 5000 свободен
3. Проверьте логи на наличие ошибок

### Авторизация не работает

1. Убедитесь, что все 3 компонента запущены
2. Проверьте, что бот и бэкенд используют один и тот же токен
3. Проверьте логи бэкенда - должны видеть запросы `/api/auth/verify-token`

